---
sidebar: sidebar 
permalink: infra/ai-lenovo-train-config.html 
keywords: solution architecture, storage controller 
summary: 'Questa sezione descrive le configurazioni testate, l"infrastruttura di rete, il server SR670 V2 e i dettagli del provisioning dello storage.' 
---
= Configurazione di prova
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Questa sezione descrive le configurazioni testate, l'infrastruttura di rete, il server SR670 V2 e i dettagli del provisioning dello storage NetApp .



== Architettura della soluzione

Per questa convalida abbiamo utilizzato i componenti della soluzione elencati nella tabella seguente.

|===
| Componenti della soluzione | Dettagli 


| Server Lenovo ThinkSystem  a| 
* Due server SR670 V2, ciascuno con otto schede GPU NVIDIA A100 da 80 GB
* Ogni server contiene 2 CPU Intel Xeon Platinum 8360Y (28 core fisici) e 1 TB di RAM




| Linux (Ubuntu – 20.04 con CUDA 11.8) |  


| Sistema di archiviazione NetApp AFF (coppia HA)  a| 
* Software NetApp ONTAP 9.10.1
* 24 SSD da 960 GB
* protocollo NFS
* 1 gruppo di interfacce (ifgrp) per controller, con quattro indirizzi IP logici per i punti di montaggio


|===
In questa convalida abbiamo utilizzato ResNet v2.0 con il set di base ImageNet specificato da MLPerf v2.0.  Il set di dati è archiviato in un sistema di archiviazione NetApp AFF con protocollo NFS.  Gli SR670 erano collegati al sistema di storage NetApp AFF A400 tramite uno switch da 100 GbE.

ImageNet è un set di dati di immagini utilizzato frequentemente.  Contiene quasi 1,3 milioni di immagini per una dimensione totale di 144 GB.  La dimensione media dell'immagine è 108 KB.

La figura seguente illustra la topologia di rete della configurazione testata.

image:a400-thinksystem-007.png["Questa immagine mostra il livello di elaborazione, un Lenovo ThinkSystem SR670 V2, il livello di rete, uno switch Ethernet Lenovo e il livello di archiviazione, un controller di archiviazione NetApp AFF A400 .  Sono incluse tutte le connessioni di rete."]



== Controllore di archiviazione

Nella tabella seguente è elencata la configurazione di archiviazione.

|===
| Controllore | Aggregato | Volume FlexGroup | Dimensione aggregata | Dimensione del volume | Punto di montaggio del sistema operativo 


| Controller1 | Aggr1 | /a400-100g | 9,9 TB | 19 TB | /a400-100g 


| Controller2 | Aggr2 | /a400-100g | 9,9 TB |  | /a400-100g 
|===

NOTE: La cartella /a400-100g contiene il set di dati utilizzato per la convalida ResNet.
